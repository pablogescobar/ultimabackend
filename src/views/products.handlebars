<div class="container">
    <h2>Productos</h2>

    {{#if isLoggedIn}}
    <h3>Hola {{firstName}} {{lastName}}</h3>
    {{/if}}

    <p class="margin">Página actual: {{products.page}}</p>

    <ul class="product-list">
        {{#each products.payload}}
        <li>
            <div class="products">
                <h4>{{this.title}}</h4>
                {{#if isLoggedIn}}
                <p>Precio: {{this.price}}</p>
                {{/if}}
                <p>Stock: {{this.stock}}</p>
                <p>ID: {{this.id}}</p>
                <a href="/products/{{this.id}}" class="view-link">Ver</a>
            </div>
        </li>
        {{/each}}
    </ul>

    <div class="pagination">
        {{#if products.hasPrevPage}}
        <a href="{{products.prevLink}}" class="page-link">Anterior</a>
        {{/if}}

        {{#if products.hasNextPage}}
        <a href="{{products.nextLink}}" class="page-link">Siguiente</a>
        {{/if}}
    </div>

    <form id="urlFilter" class="filter">
        <div class="filter-group">
            <label for="sort">Ordenar por:</label>
            <select id="sort" name="sort">
                <option value="">Sin Orden</option>
                <option value="asc">Menor Precio</option>
                <option value="desc">Mayor Precio</option>
            </select>
        </div>

        <div class="filter-group">
            <label for="category">Categoría:</label>
            <select id="category" name="category">
                <option value="">Todas las categorías</option>
                <option value="deporte">Deporte</option>
                <option value="casual">Casual</option>
                <option value="formal">Formal</option>
                <option value="aventura">Aventura</option>
                <option value="moda">Moda</option>
                <option value="trabajo">Trabajo</option>
                <option value="otros">Otros</option>
            </select>
        </div>

        <div class="filter-group">
            <label for="availability">Disponibilidad:</label>
            <input type="checkbox" id="availability" name="availability" value="true"> Disponible
        </div>

        <div class="filter-group">
            <label for="limit">Productos por página:</label>
            <input type="number" id="limit" max="20" min="1" name="limit" value="10">
        </div>

        <button type="submit" class="search-button">Buscar</button>
    </form>
</div>
